spring.application.name=traffic-api

# ===================================================================
#                               DATABASE
# ===================================================================
# MySQL Server URL
# - serverTimezone=UTC: 建議設定時區以避免潛在問題
# - createDatabaseIfNotExist=true: 如果資料庫不存在，會嘗試自動建立 (但建議手動先建好)
# - &allowPublicKeyRetrieval=true：允許資料庫驅動程式去向 MySQL 伺服器索取公鑰來加密密碼
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://mysql:3306/my_database_name_202510?serverTimezone=UTC&createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true}
# MySQL Username and Password
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:password_202510}
#spring.datasource.password=${MYSQL_ROOT_PASSWORD}
# MySQL Driver
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.http.encoding.force=true

spring.mail.username=local@gmail.com
#定義 log 檔的存放路徑
logging.file.path=./log
# ===================================================================
#                               JPA / HIBERNATE
# ===================================================================
# 讓 Hibernate 根據你的 Entity 類別自動更新資料庫結構。
# - "update": 如果表不存在就建立，如果已存在且結構有變動，會嘗試更新。開發初期非常方便。
# - "create": 每次重啟都會刪除舊的表再重新建立，適合測試。
# - "validate": 驗證 Entity 和資料庫表是否匹配，不匹配就報錯。
# - "none": 關閉自動功能，適合生產環境。
spring.jpa.hibernate.ddl-auto=update

# 在 Console 中顯示執行的 SQL 語句，方便除錯
spring.jpa.show-sql=true

# 格式化顯示的 SQL 語句
spring.jpa.properties.hibernate.format_sql=true

# Spring Boot 可以自動推測，但如果資料庫沒連上，就會失敗
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect



# ===================================================================
#                               JWT
# ===================================================================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JWT 設定
# !!! 注意：這個密鑰絕對不能外洩，未來最好用環境變數管理 !!!
app.jwt.secret=aVeryLongAndSecureSecretKeyThatIsAtLeast256BitsLongForHS256
# 過期時間 (毫秒)，這裡是 24 小時
app.jwt.expiration-ms=86400000

# ===================================================================
#                              靜態資源處理器
# ===================================================================
# 
# 將所有以 /maps/ 開頭的請求，映射到 /data/ 目錄
spring.web.resources.static-locations=file:/data/,classpath:/static/
spring.mvc.static-path-pattern=/maps/**